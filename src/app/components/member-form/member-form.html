<h2>Přidat člena</h2>

<div class="form-wrapper">
  <hxt-form-field label="Vyber typ člena:">
    <select [(ngModel)]="selectedTypeId" (change)="onTypeChange()">
      <option [value]="''" disabled>-- Vyber --</option>

      @for (memberType of memberTypes; track memberType.id) {
        <option [value]="memberType.id">{{ memberType.name }}</option>
      }

    </select>
  </hxt-form-field>

  @if (selectedType) {
    <form (ngSubmit)="submit()">

      @for (attr of selectedType.attributes; track $index) {
        <div>
          <hxt-form-field [label]="attr.name">
            @if (attr.type === 'text') {
              <input
                type="text"
                [(ngModel)]="formData[attr.name]"
                [name]="attr.name"
              />
            } @else if (attr.type === 'number') {
              <input
                type="number"
                [(ngModel)]="formData[attr.name]"
                [name]="attr.name"
              />
            } @else if (attr.type === 'date') {
              <input
                type="date"
                [(ngModel)]="formData[attr.name]"
                [name]="attr.name"
              />
            } @else if (attr.type === 'boolean') {
              <input
                type="checkbox"
                [(ngModel)]="formData[attr.name]"
                [name]="attr.name"
              />
            }
          </hxt-form-field>
        </div>
      }
      <hxt-button type="submit" class="button-on-the-right">💾 Uložit člena</hxt-button>
    </form>
  }
</div>
